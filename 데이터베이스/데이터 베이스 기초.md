# 데이터 베이스 시스템(DBS)이란?
DBS는 DB와 DBMS을 모두 포괄하는 상위 개념으로 사용자와 소통하는 데이터 언어까지 포함됩니다.

![DBS](https://github.com/user-attachments/assets/d83d0bc3-3483-4c1f-bc2a-b152917bb88a)

# DB 구조
데이터 베이스 구조에 대해서 살펴보면, 크게 스키마와 인스턴스로 구분할 수 있습니다.

스키마
- 데이터 베이스에 저장되는 데이터 구조와 제약조건을 정의한 것입니다.

인스턴스
- 스키마에 따라 데이터베이스에 실제로 저장된 값입니다.

이런 데이터 베이스 구조를 3단계로 나눠서 보기도하는데요. (미국 표준화 기관에서 제안했다고 합니다)

크게 `외부단계` `개념단계` `내부단계`로 구분할 수 있습니다.
이렇게 구분하는 이유는 데이터 베이스를 조금 더 쉽게 이용할 수 있도록 관점에 따라서 단계를 나눴다고 하네요!

각각을 조금 더 살펴보면

### 📘 외부단계 (사용자관점)
- 가장 추상화가 많이 되어있는 단계로 데이터베이스를 사용자 관점에서 이해하고 표현하는 단계입니다.
- 예를 들어 고객 분석팀은 (성별, 나이, 직업) 외부 스키마를 사용하고 상품 배송팀은 (고객 번호, 고객 이름, 성별, 나이)의 외부 스키마를 사용할 수 있겠죠.
- 그래서 데이터베이스하나에 외부 스키마는 여러개 존재가 가능해집니다.

### 🏢 개념단계 (조직 전체 관점)
- 데이터 베이스를 조직 전체의 관점에서 이해하고 표현하는 단계입니다.
- 조직 전체의 일관된 데이터 구조를 유지하기 위해 개념 스키마가 단 하나만 존재하게 됩니다.
- 이 단계에서 보안 정책이나 접근 권한에 대한 정의도 포함시킵니다.
- 그리고 위에서 살펴본 외부 단계에서 사용하는 다양한 스키마들은 이 개념 스키마를 기반으로 정의됩니다.

### ⚙️ 내부단계 (저장 장치 관점)
- 데이터 베이스를 저장장치 관점에서 이해하고 표현하는 단계입니다.
- 예를 들어 어떤 데이터를 어떻게 디스크에 저장할지 등입니다.
- 실제로 데이터가 어떻게 저장되는지 표현되어이 있으며 데이터 베이스 하나에 내부 스키마가 하나만 존재합니다.

![image](https://github.com/user-attachments/assets/7fa73a0f-49ed-4a7d-995e-46941a3dd7a7)

사용자가 원하는 데이터는 외부 스키마에 있고, 실제 데이터는 개념 스키마에 있으니깐 이를 연결해주는 무언가가 필요하겠죠?
그 다리 역할이 `외부/개념 사상(External/Conceptual Mapping)`입니다.

더 나아가서 생각해보면 개념 스키마와 내부 스키마 사이에도 무언가가 존재하겠죠?
그것이 `내부/개념 사상(Conceptual/Internal Mapping)`입니다.

이렇게 근본적으로 나누는 이유는 데이터의 독립성을 위해서입니다.
하위 스키마가 변경되더라도 상위 스키마는 영향을 받지 않게되죠!

# 데이터 언어
사용자 ↔ 데이터 베이스 관리 시스템 간 소통을 하기 위해 필요한 언어가 데이터 언어입니다.
사용 목적에 따라서 데이터 정의어, 데이터 조작어, 데이터 제어어로 나눌 수 있습니다.

데이터 정의어
- 스키마를 정의하거나 수정, 삭제하기 위해서 사용되는 언어입니다.

데이터 조작어
- 데이터의 삽입, 삭제, 수정 등의 처리를 요구하기 위해서 사용하는 언어입니다.

데이터 제어어
- 내부적으로 필요한 규칙이나 기법을 정의하기 위해서 사용합니다.
- 예를 들어 보안이나 동시성과 같은 목적을 위해서 사용합니다.

# 데이터 베이스 설계
데이터 베이스 설계는 크게 5단계가 있습니다.
`요구사항 분석 > 개념적 설계 > 논리적 설계 > 물리적 설계 > 구현`

여기서 개념적 설계에서 다루는 E-R 다이어그램에 대해서 알아보겠습니다.

## 데이터 베이스 모델링
데이터 베이스 모델링은 현실 세계에 존재하는 데이터를 컴퓨터 세계의 데이터 베이스로 옮기는 과정입니다.
이때 어떻게 추상화할지 개념화하는 단계가 개념적 설계다 단계고, 이런 추상화를 바탕으로 컴퓨터 데이터 베이스 구조를 따라 변환하는 과정을 논리적 설계라고 합니다.

## 데이터 베이스 모델
데이터 베이스 모델은 모델링의 결과물을 표현하는 도구입니다!

### E-R 모델
E-R모델은 개념적 데이터 모델 중 하나입니다. 개체와 개체 간의 관계를 이용해서 개념적으로 표현하는 방식입니다. 그리고 이러한 모델을 이용해서 실제 그림으로 표현한 것을 E-R 다이어그램이라고 합니다.

![e-r](https://github.com/user-attachments/assets/bcf996dd-39c3-463d-a6a0-c6bc8bcbb8a1)

### 속성
이때 속성은 속성 값의 개수가 다중이면 이중 타원으로 표현하게 되고,
복합 속성이면 또다른 타원형으로 연결시킬 수 있습니다.
그리고 유도속성이라는 개념도 있는데, 유도속성은 별도의 값이 아니라 다른 속성에 의해서 결정되는 속성으로 점선타원으로 표시됩니다.
대표적인 유도속성 예시로 판매가격이 있으며 이는 가격과 할인율이라는 속성에 따라 유도되는 속성이라 유도 속성이라고 불립니다.

### 관계
관계의 경우에 필수적 참여와 선택적 참여로 구분할 수 있습니다. 이때 필수적 참여는 이중선으로 표현해야합니다.

![e-r2](https://github.com/user-attachments/assets/9f8e3645-7494-4e64-9b27-c3e20acdc3f5)

또한 관계의 종속성은 다음과 같이 표현합니다.
약한 개체는 오너 개체의 키를 포함하여 키를 구성하는 특징이 있습니다.

![e-r3](https://github.com/user-attachments/assets/5fa5b627-2bce-496f-947a-7de64de40a03)

